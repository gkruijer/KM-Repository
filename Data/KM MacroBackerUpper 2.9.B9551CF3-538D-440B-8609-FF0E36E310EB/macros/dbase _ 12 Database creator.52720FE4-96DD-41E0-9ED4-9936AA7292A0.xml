<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<array>
	<dict>
		<key>Actions</key>
		<array>
			<dict>
				<key>ActionColor</key>
				<string>Teal</string>
				<key>ActionUID</key>
				<integer>15603208</integer>
				<key>MacroActionType</key>
				<string>Comment</string>
				<key>StyledText</key>
				<data>
							cnRmZAAAAAADAAAAAgAA
							AAcAAABUWFQucnRmAQAA
							AC4NAgAAKwAAAAEAAAAF
							AgAAe1xydGYxXGFuc2lc
							YW5zaWNwZzEyNTJcY29j
							b2FydGYyNzA5Clxjb2Nv
							YXRleHRzY2FsaW5nMFxj
							b2NvYXBsYXRmb3JtMHtc
							Zm9udHRibFxmMFxmc3dp
							c3NcZmNoYXJzZXQwIEhl
							bHZldGljYS1Cb2xkO1xm
							MVxmc3dpc3NcZmNoYXJz
							ZXQwIEhlbHZldGljYTt9
							CntcY29sb3J0Ymw7XHJl
							ZDI1NVxncmVlbjI1NVxi
							bHVlMjU1O1xyZWQwXGdy
							ZWVuMFxibHVlMDt9Cntc
							KlxleHBhbmRlZGNvbG9y
							dGJsOztcY3NzcmdiXGMw
							XGMwXGMwXGM4NDcwNlxj
							bmFtZSBjb250cm9sVGV4
							dENvbG9yO30KXHBhcmRc
							dHg1NjBcdHgxMTIwXHR4
							MTY4MFx0eDIyNDBcdHgy
							ODAwXHR4MzM2MFx0eDM5
							MjBcdHg0NDgwXHR4NTA0
							MFx0eDU2MDBcdHg2MTYw
							XHR4NjcyMFxwYXJkaXJu
							YXR1cmFsXHBhcnRpZ2h0
							ZW5mYWN0b3IwCgpcZjBc
							YlxmczI2IFxjZjIgUHVy
							cG9zZQpcZjFcYjAgXAog
							IFwnOTUgUm91dGluZXMg
							dG8gY3JlYXRlIHRoZSBk
							ZWZhdWx0IG5ldyBtYWNy
							b3MsIG9sZCBtYWNyb3Ms
							IGFuZCBzZXR0aW5ncyBk
							YXRhYmFzZXMufQEAAAAj
							AAAAAQAAAAcAAABUWFQu
							cnRmEAAAAB/3W2W2AQAA
							AAAAAAAAAAA=
							</data>
				<key>Title</key>
				<string>dbase: Database creator</string>
			</dict>
			<dict>
				<key>ActionName</key>
				<string>Case Statement</string>
				<key>ActionUID</key>
				<integer>15603209</integer>
				<key>CaseEntries</key>
				<array>
					<dict>
						<key>Actions</key>
						<array>
							<dict>
								<key>ActionColor</key>
								<string>Green</string>
								<key>ActionName</key>
								<string>Recreate 'old' macros table</string>
								<key>ActionUID</key>
								<integer>15603210</integer>
								<key>Actions</key>
								<array>
									<dict>
										<key>ActionName</key>
										<string>Get the last-successful backup folder</string>
										<key>ActionUID</key>
										<integer>15603211</integer>
										<key>DisplayKind</key>
										<string>Variable</string>
										<key>HonourFailureSettings</key>
										<true/>
										<key>IncludeStdErr</key>
										<false/>
										<key>IncludedVariables</key>
										<array>
											<string>9999</string>
										</array>
										<key>IsDisclosed</key>
										<false/>
										<key>MacroActionType</key>
										<string>ExecuteShellScript</string>
										<key>Path</key>
										<string></string>
										<key>Source</key>
										<string>Nothing</string>
										<key>Text</key>
										<string>find "$KMVAR_rg_MBU_BackupLoc" -maxdepth 1 -name "2*" | sort -r | head -1</string>
										<key>TimeOutAbortsMacro</key>
										<true/>
										<key>TrimResults</key>
										<true/>
										<key>TrimResultsNew</key>
										<true/>
										<key>UseText</key>
										<true/>
										<key>Variable</key>
										<string>local_lastBackup</string>
									</dict>
									<dict>
										<key>ActionColor</key>
										<string>Aqua</string>
										<key>ActionName</key>
										<string>Create SQL for all groups</string>
										<key>ActionUID</key>
										<integer>15603212</integer>
										<key>Actions</key>
										<array>
											<dict>
												<key>ActionName</key>
												<string>Check if we're already using the new v2.4 delimiter</string>
												<key>ActionUID</key>
												<integer>15603213</integer>
												<key>Conditions</key>
												<dict>
													<key>ConditionList</key>
													<array>
														<dict>
															<key>ConditionType</key>
															<string>Script</string>
															<key>IncludedVariables</key>
															<array>
																<string>9999</string>
															</array>
															<key>Path</key>
															<string></string>
															<key>ScriptConditionSourceType</key>
															<string>ShellScriptText</string>
															<key>ScriptConditionType</key>
															<string>Is</string>
															<key>ScriptResult</key>
															<string>newDelim</string>
															<key>ScriptTerminationStatus</key>
															<integer>1</integer>
															<key>ScriptText</key>
															<string>if grep -q "‚Üêüî∏‚Üí" "$KMVAR_Variable%local_lastBackup"/.UUID_AllGroups; then echo "newDelim"; fi</string>
															<key>UseModernSyntax</key>
															<false/>
														</dict>
													</array>
													<key>ConditionListMatch</key>
													<string>All</string>
												</dict>
												<key>ElseActions</key>
												<array>
													<dict>
														<key>ActionName</key>
														<string>Set to old delimiter as user hasn't run a 2.4 backup yet</string>
														<key>ActionUID</key>
														<integer>15603216</integer>
														<key>MacroActionType</key>
														<string>SetVariableToText</string>
														<key>Text</key>
														<string>###</string>
														<key>Variable</key>
														<string>local_theDelim</string>
													</dict>
												</array>
												<key>IsDisclosed</key>
												<false/>
												<key>MacroActionType</key>
												<string>IfThenElse</string>
												<key>ThenActions</key>
												<array>
													<dict>
														<key>ActionColor</key>
														<string>Yellow</string>
														<key>ActionName</key>
														<string>If the groups file is on the new delimiter, assume macros file is too. Seems safe.</string>
														<key>ActionUID</key>
														<integer>15603214</integer>
														<key>IsDisclosed</key>
														<false/>
														<key>MacroActionType</key>
														<string>Comment</string>
														<key>StyledText</key>
														<data>
								cnRmZAAAAAAD
								AAAAAgAAAAcA
								AABUWFQucnRm
								AQAAAC5wAQAA
								KwAAAAEAAABo
								AQAAe1xydGYx
								XGFuc2lcYW5z
								aWNwZzEyNTJc
								Y29jb2FydGYx
								NjcxXGNvY29h
								c3VicnRmNjAw
								CntcZm9udHRi
								bFxmMFxmc3dp
								c3NcZmNoYXJz
								ZXQwIEhlbHZl
								dGljYTt9Cntc
								Y29sb3J0Ymw7
								XHJlZDI1NVxn
								cmVlbjI1NVxi
								bHVlMjU1O1xy
								ZWQwXGdyZWVu
								MFxibHVlMDt9
								CntcKlxleHBh
								bmRlZGNvbG9y
								dGJsOztcY3Nz
								cmdiXGMwXGMw
								XGMwXGM4NDcw
								NlxjbmFtZSBj
								b250cm9sVGV4
								dENvbG9yO30K
								XHBhcmRcdHg1
								NjBcdHgxMTIw
								XHR4MTY4MFx0
								eDIyNDBcdHgy
								ODAwXHR4MzM2
								MFx0eDM5MjBc
								dHg0NDgwXHR4
								NTA0MFx0eDU2
								MDBcdHg2MTYw
								XHR4NjcyMFxw
								YXJkaXJuYXR1
								cmFsXHBhcnRp
								Z2h0ZW5mYWN0
								b3IwCgpcZjBc
								ZnMyNiBcY2Yy
								IC59AQAAACMA
								AAABAAAABwAA
								AFRYVC5ydGYQ
								AAAAoGXMYbYB
								AAAAAAAAAAAA
								AA==
																	</data>
														<key>Title</key>
														<string>Generic comment with Helvetica text</string>
													</dict>
													<dict>
														<key>ActionName</key>
														<string>Set to new delimiter as user has run 2.4 backups already</string>
														<key>ActionUID</key>
														<integer>15603215</integer>
														<key>MacroActionType</key>
														<string>SetVariableToText</string>
														<key>Text</key>
														<string>‚Üêüî∏‚Üí</string>
														<key>Variable</key>
														<string>local_theDelim</string>
													</dict>
												</array>
												<key>TimeOutAbortsMacro</key>
												<true/>
											</dict>
											<dict>
												<key>ActionUID</key>
												<integer>15603217</integer>
												<key>Destination</key>
												<string>Variable</string>
												<key>IsDisclosed</key>
												<false/>
												<key>MacroActionType</key>
												<string>ReadFile</string>
												<key>Source</key>
												<string>%Variable%local_lastBackup%/.UUID_AllGroups</string>
												<key>Variable</key>
												<string>local_old_UUID_groups</string>
											</dict>
											<dict>
												<key>Action</key>
												<string>IgnoreCaseRegEx</string>
												<key>ActionName</key>
												<string>Quote the single apostrophe for import</string>
												<key>ActionUID</key>
												<integer>15603218</integer>
												<key>IsDisclosed</key>
												<false/>
												<key>MacroActionType</key>
												<string>SearchReplace</string>
												<key>Replace</key>
												<string>''</string>
												<key>Search</key>
												<string>'</string>
												<key>Source</key>
												<string>Variable</string>
												<key>Variable</key>
												<string>local_old_UUID_groups</string>
												<key>Which</key>
												<string>All</string>
											</dict>
											<dict>
												<key>Action</key>
												<string>IgnoreCaseRegEx</string>
												<key>ActionName</key>
												<string>Convert delimted text into SQL command</string>
												<key>ActionUID</key>
												<integer>15603219</integer>
												<key>Destination</key>
												<string>Variable</string>
												<key>DestinationVariable</key>
												<string>local_OldGroupSQL</string>
												<key>MacroActionType</key>
												<string>SearchReplace</string>
												<key>Replace</key>
												<string>insert into groups_old ("Group_ID","Group_Mod","Group_Name","Group_Status","Group_Enabled") values ('$1','No','$2','',$3);</string>
												<key>Search</key>
												<string>(?m)^(.*?)%Variable%local_theDelim%(.*?)%Variable%local_theDelim%(.*)$</string>
												<key>Source</key>
												<string>Variable</string>
												<key>Variable</key>
												<string>local_old_UUID_groups</string>
												<key>Which</key>
												<string>All</string>
											</dict>
										</array>
										<key>IsDisclosed</key>
										<false/>
										<key>MacroActionType</key>
										<string>Group</string>
										<key>TimeOutAbortsMacro</key>
										<true/>
									</dict>
									<dict>
										<key>ActionColor</key>
										<string>Aqua</string>
										<key>ActionName</key>
										<string>Create SQL for all macros</string>
										<key>ActionUID</key>
										<integer>15603220</integer>
										<key>Actions</key>
										<array>
											<dict>
												<key>ActionUID</key>
												<integer>15603221</integer>
												<key>Destination</key>
												<string>Variable</string>
												<key>IsDisclosed</key>
												<false/>
												<key>MacroActionType</key>
												<string>ReadFile</string>
												<key>Source</key>
												<string>%Variable%local_lastBackup%/.UUID_AllMacros</string>
												<key>Variable</key>
												<string>local_old_UUID_macros</string>
											</dict>
											<dict>
												<key>Action</key>
												<string>IgnoreCaseRegEx</string>
												<key>ActionName</key>
												<string>Quote the single apostrophe for import</string>
												<key>ActionUID</key>
												<integer>15603222</integer>
												<key>IsDisclosed</key>
												<false/>
												<key>MacroActionType</key>
												<string>SearchReplace</string>
												<key>Replace</key>
												<string>''</string>
												<key>Search</key>
												<string>'</string>
												<key>Source</key>
												<string>Variable</string>
												<key>Variable</key>
												<string>local_old_UUID_macros</string>
												<key>Which</key>
												<string>All</string>
											</dict>
											<dict>
												<key>Action</key>
												<string>IgnoreCaseRegEx</string>
												<key>ActionName</key>
												<string>Search/Replace: regex</string>
												<key>ActionUID</key>
												<integer>15603223</integer>
												<key>Destination</key>
												<string>Variable</string>
												<key>DestinationVariable</key>
												<string>local_OldMacrosSQL</string>
												<key>IsDisclosed</key>
												<false/>
												<key>MacroActionType</key>
												<string>SearchReplace</string>
												<key>Replace</key>
												<string>insert into macros_old_temp ("Group_ID","Macro_ID","Macro_Name","Macro_Mod","Macro_Status","Macro_Enabled") values ('$1','$2','$3','No','',$4);</string>
												<key>Search</key>
												<string>(?m)^(.*?)%Variable%local_theDelim%(.*?)%Variable%local_theDelim%(.*?)%Variable%local_theDelim%(.*)$</string>
												<key>Source</key>
												<string>Variable</string>
												<key>Variable</key>
												<string>local_old_UUID_macros</string>
												<key>Which</key>
												<string>All</string>
											</dict>
										</array>
										<key>IsDisclosed</key>
										<false/>
										<key>MacroActionType</key>
										<string>Group</string>
										<key>TimeOutAbortsMacro</key>
										<true/>
									</dict>
									<dict>
										<key>ActionColor</key>
										<string>Aqua</string>
										<key>ActionName</key>
										<string>Create tables and import older backup's data</string>
										<key>ActionUID</key>
										<integer>15603224</integer>
										<key>IsDisclosed</key>
										<false/>
										<key>MacroActionType</key>
										<string>SetVariableToText</string>
										<key>Text</key>
										<string>CREATE TABLE IF NOT EXISTS "macros_old_temp" (
"Group_ID" TEXT,
"Macro_ID" TEXT PRIMARY KEY,
"Macro_Mod" TEXT,
"Macro_Name" TEXT,
"Macro_Status" TEXT,
"Macro_Enabled" INTEGER
);

CREATE TABLE IF NOT EXISTS "groups_old" (
"Group_ID" TEXT PRIMARY KEY,
"Group_Mod" TEXT,
"Group_Name" TEXT,
"Group_Status" TEXT,
"Group_Enabled" INTEGER
);

%Variable%local_OldGroupSQL%
%Variable%local_OldMacrosSQL%</string>
										<key>Variable</key>
										<string>instanceTheData</string>
									</dict>
									<dict>
										<key>ActionUID</key>
										<integer>15603225</integer>
										<key>Append</key>
										<false/>
										<key>Destination</key>
										<string>/tmp/MBU_rgdata.sql</string>
										<key>Encoding</key>
										<string>UTF8</string>
										<key>Format</key>
										<string>PlainText</string>
										<key>Format2</key>
										<string>PlainText</string>
										<key>IsDisclosed</key>
										<false/>
										<key>MacroActionType</key>
										<string>WriteFile</string>
										<key>Source</key>
										<string>Variable</string>
										<key>Variable</key>
										<string>instanceTheData</string>
									</dict>
									<dict>
										<key>ActionName</key>
										<string>Create/update the database</string>
										<key>ActionUID</key>
										<integer>15603226</integer>
										<key>DisplayKind</key>
										<string>Window</string>
										<key>HonourFailureSettings</key>
										<true/>
										<key>IncludeStdErr</key>
										<false/>
										<key>IncludedVariables</key>
										<array>
											<string>9999</string>
										</array>
										<key>IsDisclosed</key>
										<false/>
										<key>MacroActionType</key>
										<string>ExecuteShellScript</string>
										<key>NotifyOnFailure</key>
										<false/>
										<key>Path</key>
										<string></string>
										<key>Source</key>
										<string>Nothing</string>
										<key>StopOnFailure</key>
										<false/>
										<key>Text</key>
										<string>cat /tmp/MBU_rgdata.sql | sqlite3 "$KMVAR_instance_theDatabasePath"</string>
										<key>TimeOutAbortsMacro</key>
										<true/>
										<key>TrimResults</key>
										<false/>
										<key>TrimResultsNew</key>
										<false/>
										<key>UseText</key>
										<true/>
									</dict>
									<dict>
										<key>ActionColor</key>
										<string>Aqua</string>
										<key>ActionName</key>
										<string>Create merged macro databases</string>
										<key>ActionUID</key>
										<integer>15603227</integer>
										<key>Actions</key>
										<array>
											<dict>
												<key>ActionUID</key>
												<integer>15603228</integer>
												<key>MacroActionType</key>
												<string>SetVariableToText</string>
												<key>Text</key>
												<string>CREATE TABLE IF NOT EXISTS macros_old AS
SELECT macros_old_temp.Group_ID, macros_old_temp.Macro_ID, macros_old_temp.Macro_Name, macros_old_temp.Macro_Status, macros_old_temp.Macro_Mod, macros_old_temp.Macro_Enabled, groups_old.Group_Name
FROM macros_old_temp
INNER JOIN groups_old ON macros_old_temp.Group_ID = groups_old.Group_ID;
DROP TABLE macros_old_temp;</string>
												<key>Variable</key>
												<string>instanceTheData</string>
											</dict>
											<dict>
												<key>ActionUID</key>
												<integer>15603229</integer>
												<key>DisplayKind</key>
												<string>None</string>
												<key>HonourFailureSettings</key>
												<true/>
												<key>IncludeStdErr</key>
												<false/>
												<key>IncludedVariables</key>
												<array>
													<string>9999</string>
												</array>
												<key>MacroActionType</key>
												<string>ExecuteShellScript</string>
												<key>Path</key>
												<string></string>
												<key>Source</key>
												<string>Nothing</string>
												<key>Text</key>
												<string>sqlite3 "$KMVAR_instance_theDatabasePath" &lt;&lt; EOF
$KMVAR_instanceTheData
EOF</string>
												<key>TimeOutAbortsMacro</key>
												<true/>
												<key>TrimResults</key>
												<true/>
												<key>TrimResultsNew</key>
												<true/>
												<key>UseText</key>
												<true/>
											</dict>
										</array>
										<key>IsDisclosed</key>
										<false/>
										<key>MacroActionType</key>
										<string>Group</string>
										<key>TimeOutAbortsMacro</key>
										<true/>
									</dict>
									<dict>
										<key>ActionColor</key>
										<string>Aqua</string>
										<key>ActionName</key>
										<string>Create indices</string>
										<key>ActionUID</key>
										<integer>15603230</integer>
										<key>Actions</key>
										<array>
											<dict>
												<key>ActionUID</key>
												<integer>15603231</integer>
												<key>MacroActionType</key>
												<string>SetVariableToText</string>
												<key>Text</key>
												<string>CREATE INDEX IF NOT EXISTS idx_groups_old
ON groups_old (Group_Name);
CREATE INDEX IF NOT EXISTS idx_macros_old
ON macros_old (Macro_Name, Group_ID);
</string>
												<key>Variable</key>
												<string>instanceTheData</string>
											</dict>
											<dict>
												<key>ActionUID</key>
												<integer>15603232</integer>
												<key>DisplayKind</key>
												<string>None</string>
												<key>HonourFailureSettings</key>
												<true/>
												<key>IncludeStdErr</key>
												<false/>
												<key>IncludedVariables</key>
												<array>
													<string>9999</string>
												</array>
												<key>MacroActionType</key>
												<string>ExecuteShellScript</string>
												<key>Path</key>
												<string></string>
												<key>Source</key>
												<string>Nothing</string>
												<key>Text</key>
												<string>sqlite3 "$KMVAR_instance_theDatabasePath" &lt;&lt; EOF
$KMVAR_instanceTheData
EOF</string>
												<key>TimeOutAbortsMacro</key>
												<true/>
												<key>TrimResults</key>
												<true/>
												<key>TrimResultsNew</key>
												<true/>
												<key>UseText</key>
												<true/>
											</dict>
										</array>
										<key>IsDisclosed</key>
										<false/>
										<key>MacroActionType</key>
										<string>Group</string>
										<key>TimeOutAbortsMacro</key>
										<true/>
									</dict>
									<dict>
										<key>ActionUID</key>
										<integer>15603233</integer>
										<key>IsDisclosed</key>
										<false/>
										<key>MacroActionType</key>
										<string>SetVariableToText</string>
										<key>Text</key>
										<string>%Delete%</string>
										<key>Variable</key>
										<string>instanceTheData</string>
									</dict>
								</array>
								<key>MacroActionType</key>
								<string>Group</string>
								<key>TimeOutAbortsMacro</key>
								<true/>
							</dict>
						</array>
						<key>ConditionType</key>
						<string>Is</string>
						<key>TestValue</key>
						<string>OldMacros</string>
					</dict>
					<dict>
						<key>Actions</key>
						<array>
							<dict>
								<key>ActionColor</key>
								<string>Green</string>
								<key>ActionName</key>
								<string>Create 'new' macros table on each run</string>
								<key>ActionUID</key>
								<integer>15603234</integer>
								<key>Actions</key>
								<array>
									<dict>
										<key>ActionColor</key>
										<string>Aqua</string>
										<key>ActionName</key>
										<string>Create SQL for all groups</string>
										<key>ActionUID</key>
										<integer>15603235</integer>
										<key>Actions</key>
										<array>
											<dict>
												<key>ActionUID</key>
												<integer>15603236</integer>
												<key>Destination</key>
												<string>Variable</string>
												<key>IsDisclosed</key>
												<false/>
												<key>MacroActionType</key>
												<string>ReadFile</string>
												<key>Source</key>
												<string>/tmp/MBU_rgGroupCombined</string>
												<key>Variable</key>
												<string>local_new_UUID_groups</string>
											</dict>
											<dict>
												<key>Action</key>
												<string>IgnoreCaseRegEx</string>
												<key>ActionName</key>
												<string>Quote the single apostrophe for import</string>
												<key>ActionUID</key>
												<integer>15603237</integer>
												<key>MacroActionType</key>
												<string>SearchReplace</string>
												<key>Replace</key>
												<string>''</string>
												<key>Search</key>
												<string>'</string>
												<key>Source</key>
												<string>Variable</string>
												<key>Variable</key>
												<string>local_new_UUID_groups</string>
												<key>Which</key>
												<string>All</string>
											</dict>
											<dict>
												<key>Action</key>
												<string>IgnoreCaseRegEx</string>
												<key>ActionName</key>
												<string>Convert delimted text into SQL command</string>
												<key>ActionUID</key>
												<integer>15603238</integer>
												<key>Destination</key>
												<string>Variable</string>
												<key>DestinationVariable</key>
												<string>local_NewGroupSQL</string>
												<key>MacroActionType</key>
												<string>SearchReplace</string>
												<key>Replace</key>
												<string>insert into groups_new ("Group_ID","Group_Mod","Group_Name","Group_Status","Group_Enabled") values ('$1','No','$2','',$3);</string>
												<key>Search</key>
												<string>(?m)^(.*?)‚Üêüî∏‚Üí(.*?)‚Üêüî∏‚Üí(.*)$</string>
												<key>Source</key>
												<string>Variable</string>
												<key>Variable</key>
												<string>local_new_UUID_groups</string>
												<key>Which</key>
												<string>All</string>
											</dict>
										</array>
										<key>IsDisclosed</key>
										<false/>
										<key>MacroActionType</key>
										<string>Group</string>
										<key>TimeOutAbortsMacro</key>
										<true/>
									</dict>
									<dict>
										<key>ActionColor</key>
										<string>Aqua</string>
										<key>ActionName</key>
										<string>Create SQL for all macros</string>
										<key>ActionUID</key>
										<integer>15603239</integer>
										<key>Actions</key>
										<array>
											<dict>
												<key>ActionUID</key>
												<integer>15603240</integer>
												<key>Destination</key>
												<string>Variable</string>
												<key>IsDisclosed</key>
												<false/>
												<key>MacroActionType</key>
												<string>ReadFile</string>
												<key>Source</key>
												<string>/tmp/MBU_rgMacroCombined</string>
												<key>Variable</key>
												<string>local_new_UUID_macros</string>
											</dict>
											<dict>
												<key>Action</key>
												<string>IgnoreCaseRegEx</string>
												<key>ActionName</key>
												<string>Quote the single apostrophe for import</string>
												<key>ActionUID</key>
												<integer>15603241</integer>
												<key>IsDisclosed</key>
												<false/>
												<key>MacroActionType</key>
												<string>SearchReplace</string>
												<key>Replace</key>
												<string>''</string>
												<key>Search</key>
												<string>'</string>
												<key>Source</key>
												<string>Variable</string>
												<key>Variable</key>
												<string>local_new_UUID_macros</string>
												<key>Which</key>
												<string>All</string>
											</dict>
											<dict>
												<key>Action</key>
												<string>IgnoreCaseRegEx</string>
												<key>ActionName</key>
												<string>Search/Replace: regex</string>
												<key>ActionUID</key>
												<integer>15603242</integer>
												<key>Destination</key>
												<string>Variable</string>
												<key>DestinationVariable</key>
												<string>local_NewMacrosSQL</string>
												<key>IsDisclosed</key>
												<false/>
												<key>MacroActionType</key>
												<string>SearchReplace</string>
												<key>Replace</key>
												<string>insert into macros_new_temp ("Group_ID","Macro_ID","Macro_Name","Macro_Mod","Macro_Status","Macro_Enabled") values ('$1','$2','$3','No','',$4);</string>
												<key>Search</key>
												<string>(?m)^(.*?)‚Üêüî∏‚Üí(.*?)‚Üêüî∏‚Üí(.*?)‚Üêüî∏‚Üí(.*)$</string>
												<key>Source</key>
												<string>Variable</string>
												<key>Variable</key>
												<string>local_new_UUID_macros</string>
												<key>Which</key>
												<string>All</string>
											</dict>
										</array>
										<key>IsDisclosed</key>
										<false/>
										<key>MacroActionType</key>
										<string>Group</string>
										<key>TimeOutAbortsMacro</key>
										<true/>
									</dict>
									<dict>
										<key>ActionColor</key>
										<string>Aqua</string>
										<key>ActionName</key>
										<string>Create tables and import newest backup's data</string>
										<key>ActionUID</key>
										<integer>15603243</integer>
										<key>MacroActionType</key>
										<string>SetVariableToText</string>
										<key>Text</key>
										<string>CREATE TABLE IF NOT EXISTS "macros_new_temp" (
"Group_ID" TEXT,
"Macro_ID" TEXT PRIMARY KEY,
"Macro_Mod" TEXT,
"Macro_Name" TEXT,
"Macro_Status" TEXT,
"Macro_Enabled" INTEGER
);

CREATE TABLE IF NOT EXISTS "groups_new" (
"Group_ID" TEXT PRIMARY KEY,
"Group_Mod" TEXT,
"Group_Name" TEXT,
"Group_Status" TEXT,
"Group_Enabled" INTEGER
);

%Variable%local_NewGroupSQL%
%Variable%local_NewMacrosSQL%</string>
										<key>Variable</key>
										<string>instanceTheData</string>
									</dict>
									<dict>
										<key>ActionUID</key>
										<integer>15603244</integer>
										<key>Append</key>
										<false/>
										<key>Destination</key>
										<string>/tmp/MBU_rgdata.sql</string>
										<key>Encoding</key>
										<string>UTF8</string>
										<key>Format</key>
										<string>PlainText</string>
										<key>Format2</key>
										<string>PlainText</string>
										<key>IsDisclosed</key>
										<false/>
										<key>MacroActionType</key>
										<string>WriteFile</string>
										<key>Source</key>
										<string>Variable</string>
										<key>Variable</key>
										<string>instanceTheData</string>
									</dict>
									<dict>
										<key>ActionName</key>
										<string>Create/update the database</string>
										<key>ActionUID</key>
										<integer>15603245</integer>
										<key>DisplayKind</key>
										<string>Window</string>
										<key>HonourFailureSettings</key>
										<true/>
										<key>IncludeStdErr</key>
										<false/>
										<key>IncludedVariables</key>
										<array>
											<string>9999</string>
										</array>
										<key>MacroActionType</key>
										<string>ExecuteShellScript</string>
										<key>Path</key>
										<string></string>
										<key>Source</key>
										<string>Nothing</string>
										<key>StopOnFailure</key>
										<false/>
										<key>Text</key>
										<string>cat /tmp/MBU_rgdata.sql | sqlite3 "$KMVAR_instance_theDatabasePath"</string>
										<key>TimeOutAbortsMacro</key>
										<true/>
										<key>TrimResults</key>
										<true/>
										<key>TrimResultsNew</key>
										<true/>
										<key>UseText</key>
										<true/>
									</dict>
									<dict>
										<key>ActionColor</key>
										<string>Aqua</string>
										<key>ActionName</key>
										<string>Create merged macro databases</string>
										<key>ActionUID</key>
										<integer>15603246</integer>
										<key>Actions</key>
										<array>
											<dict>
												<key>ActionUID</key>
												<integer>15603247</integer>
												<key>MacroActionType</key>
												<string>SetVariableToText</string>
												<key>Text</key>
												<string>CREATE TABLE IF NOT EXISTS macros_new AS
SELECT macros_new_temp.Group_ID, macros_new_temp.Macro_ID, macros_new_temp.Macro_Name, macros_new_temp.Macro_Status, macros_new_temp.Macro_Mod, macros_new_temp.Macro_Enabled, groups_new.Group_Name
FROM macros_new_temp
INNER JOIN groups_new ON macros_new_temp.Group_ID = groups_new.Group_ID;
DROP TABLE macros_new_temp;</string>
												<key>Variable</key>
												<string>instanceTheData</string>
											</dict>
											<dict>
												<key>ActionUID</key>
												<integer>15603248</integer>
												<key>DisplayKind</key>
												<string>None</string>
												<key>HonourFailureSettings</key>
												<true/>
												<key>IncludeStdErr</key>
												<false/>
												<key>IncludedVariables</key>
												<array>
													<string>9999</string>
												</array>
												<key>IsDisclosed</key>
												<false/>
												<key>MacroActionType</key>
												<string>ExecuteShellScript</string>
												<key>Path</key>
												<string></string>
												<key>Source</key>
												<string>Nothing</string>
												<key>Text</key>
												<string>sqlite3 "$KMVAR_instance_theDatabasePath" &lt;&lt; EOF
$KMVAR_instanceTheData
EOF</string>
												<key>TimeOutAbortsMacro</key>
												<true/>
												<key>TrimResults</key>
												<true/>
												<key>TrimResultsNew</key>
												<true/>
												<key>UseText</key>
												<true/>
											</dict>
										</array>
										<key>IsDisclosed</key>
										<false/>
										<key>MacroActionType</key>
										<string>Group</string>
										<key>TimeOutAbortsMacro</key>
										<true/>
									</dict>
									<dict>
										<key>ActionName</key>
										<string>Create indeces</string>
										<key>ActionUID</key>
										<integer>15603249</integer>
										<key>Actions</key>
										<array>
											<dict>
												<key>ActionUID</key>
												<integer>15603250</integer>
												<key>MacroActionType</key>
												<string>SetVariableToText</string>
												<key>Text</key>
												<string>CREATE INDEX IF NOT EXISTS idx_groups_new
ON groups_new (Group_Name);
CREATE INDEX IF NOT EXISTS idx_macros_new
ON macros_new (Macro_Name, Group_ID);
</string>
												<key>Variable</key>
												<string>instanceTheData</string>
											</dict>
											<dict>
												<key>ActionUID</key>
												<integer>15603251</integer>
												<key>DisplayKind</key>
												<string>None</string>
												<key>HonourFailureSettings</key>
												<true/>
												<key>IncludeStdErr</key>
												<false/>
												<key>IncludedVariables</key>
												<array>
													<string>9999</string>
												</array>
												<key>MacroActionType</key>
												<string>ExecuteShellScript</string>
												<key>Path</key>
												<string></string>
												<key>Source</key>
												<string>Nothing</string>
												<key>Text</key>
												<string>sqlite3 "$KMVAR_instance_theDatabasePath" &lt;&lt; EOF
$KMVAR_instanceTheData
EOF</string>
												<key>TimeOutAbortsMacro</key>
												<true/>
												<key>TrimResults</key>
												<true/>
												<key>TrimResultsNew</key>
												<true/>
												<key>UseText</key>
												<true/>
											</dict>
										</array>
										<key>MacroActionType</key>
										<string>Group</string>
										<key>TimeOutAbortsMacro</key>
										<true/>
									</dict>
									<dict>
										<key>ActionUID</key>
										<integer>15603252</integer>
										<key>IsDisclosed</key>
										<false/>
										<key>MacroActionType</key>
										<string>SetVariableToText</string>
										<key>Text</key>
										<string>%Delete%</string>
										<key>Variable</key>
										<string>instanceTheData</string>
									</dict>
								</array>
								<key>MacroActionType</key>
								<string>Group</string>
								<key>TimeOutAbortsMacro</key>
								<true/>
							</dict>
						</array>
						<key>ConditionType</key>
						<string>Is</string>
						<key>TestValue</key>
						<string>NewMacros</string>
					</dict>
					<dict>
						<key>Actions</key>
						<array>
							<dict>
								<key>ActionColor</key>
								<string>Green</string>
								<key>ActionName</key>
								<string>Create the settings database and populate with default values</string>
								<key>ActionUID</key>
								<integer>15603253</integer>
								<key>Actions</key>
								<array>
									<dict>
										<key>ActionColor</key>
										<string>Aqua</string>
										<key>ActionName</key>
										<string>Create the settings database with default values</string>
										<key>ActionUID</key>
										<integer>15603254</integer>
										<key>Actions</key>
										<array>
											<dict>
												<key>ActionName</key>
												<string>The SQL commands</string>
												<key>ActionUID</key>
												<integer>15603255</integer>
												<key>IsDisclosed</key>
												<false/>
												<key>MacroActionType</key>
												<string>SetVariableToText</string>
												<key>Text</key>
												<string>CREATE TABLE "s_MacroBackerUpper" (
	"Backup_Qty"	INTEGER DEFAULT 30,
	"Hard_Links"	TEXT DEFAULT 'Yes',
	"Show_Timing"	TEXT DEFAULT 'No',
	"Warn_Dupes"	TEXT DEFAULT 'Yes',
	"Warn_Invisibles"	TEXT DEFAULT 'Yes',
	"Show_Summary"	TEXT DEFAULT 'Yes',
	"Use_Labels"	TEXT DEFAULT 'Yes',
	"Timer_Delay"	INTEGER DEFAULT 3,
       "Timing_Mode"    TEXT DEFAULT 'startquiet'
);

INSERT INTO s_MacroBackerUpper DEFAULT VALUES</string>
												<key>Variable</key>
												<string>local_theSQL</string>
											</dict>
											<dict>
												<key>ActionName</key>
												<string>Create the database!</string>
												<key>ActionUID</key>
												<integer>15603256</integer>
												<key>IsDisclosed</key>
												<false/>
												<key>MacroActionType</key>
												<string>ExecuteSubroutine</string>
												<key>MacroUID</key>
												<string>3475EC2D-E7D0-4B24-9D50-A1107D7B6BA1</string>
												<key>Parameters</key>
												<array>
													<string></string>
													<string>%Variable%local_theSQL%</string>
													<string>Settings</string>
												</array>
												<key>ResultVariable</key>
												<string></string>
												<key>TimeOutAbortsMacro</key>
												<true/>
											</dict>
										</array>
										<key>MacroActionType</key>
										<string>Group</string>
										<key>TimeOutAbortsMacro</key>
										<true/>
									</dict>
								</array>
								<key>MacroActionType</key>
								<string>Group</string>
								<key>TimeOutAbortsMacro</key>
								<true/>
							</dict>
						</array>
						<key>ConditionType</key>
						<string>Is</string>
						<key>TestValue</key>
						<string>Settings</string>
					</dict>
				</array>
				<key>MacroActionType</key>
				<string>Switch</string>
				<key>Source</key>
				<string>Variable</string>
				<key>Variable</key>
				<string>localDatabaseName</string>
			</dict>
		</array>
		<key>CreationDate</key>
		<real>725560211.02569199</real>
		<key>CustomIconData</key>
		<string>KMEC=Square=KMCOLOR:255,255,255,0==86=0=0=0=KMCOLOR:0,0,0,255</string>
		<key>ModificationDate</key>
		<real>759492734.43021798</real>
		<key>Name</key>
		<string>dbase | 12 Database creator</string>
		<key>Triggers</key>
		<array>
			<dict>
				<key>MacroTriggerType</key>
				<string>Subroutine</string>
				<key>Parameters</key>
				<array>
					<string>localDatabaseName</string>
				</array>
				<key>ReturnsValue</key>
				<true/>
			</dict>
		</array>
		<key>UID</key>
		<string>52720FE4-96DD-41E0-9ED4-9936AA7292A0</string>
	</dict>
</array>
</plist>
