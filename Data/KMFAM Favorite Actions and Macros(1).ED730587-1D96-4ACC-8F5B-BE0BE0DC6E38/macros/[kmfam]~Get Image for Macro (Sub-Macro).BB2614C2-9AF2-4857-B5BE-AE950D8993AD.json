{
	"CreationDate": 491940248.101143,
	"UID": "BB2614C2-9AF2-4857-B5BE-AE950D8993AD",
	"Name": "[kmfam]~Get Image for Macro (Sub-Macro)",
	"Triggers": [],
	"ModificationDate": 495928562.895369,
	"Actions": [
		{
			"MacroActionType": "Comment",
			"Title": "[kmfam]~Get Image for Macro (Sub-Macro) v1.1",
			"StyledText": "\n\t\t\t\t\t\t\t41E4D515-C065-4C24-9859-EA2479C52CC9\n\t\t\t\t\t\t\tcnRmZAAAAAADAAAAAgAA\n\t\t\t\t\t\t\tAAcAAABUWFQucnRmAQAA\n\t\t\t\t\t\t\tAC4OAwAAKwAAAAEAAAAG\n\t\t\t\t\t\t\tAwAAe1xydGYxXGFuc2lc\n\t\t\t\t\t\t\tYW5zaWNwZzEyNTJcY29j\n\t\t\t\t\t\t\tb2FydGYyNjM2Clxjb2Nv\n\t\t\t\t\t\t\tYXRleHRzY2FsaW5nMFxj\n\t\t\t\t\t\t\tb2NvYXBsYXRmb3JtMHtc\n\t\t\t\t\t\t\tZm9udHRibFxmMFxmc3dp\n\t\t\t\t\t\t\tc3NcZmNoYXJzZXQwIEhl\n\t\t\t\t\t\t\tbHZldGljYTt9CntcY29s\n\t\t\t\t\t\t\tb3J0Ymw7XHJlZDI1NVxn\n\t\t\t\t\t\t\tcmVlbjI1NVxibHVlMjU1\n\t\t\t\t\t\t\tO30Ke1wqXGV4cGFuZGVk\n\t\t\t\t\t\t\tY29sb3J0Ymw7O30KXHBh\n\t\t\t\t\t\t\tcmRcdHg1NjBcdHgxMTIw\n\t\t\t\t\t\t\tXHR4MTY4MFx0eDIyNDBc\n\t\t\t\t\t\t\tdHgyODAwXHR4MzM2MFx0\n\t\t\t\t\t\t\teDM5MjBcdHg0NDgwXHR4\n\t\t\t\t\t\t\tNTA0MFx0eDU2MDBcdHg2\n\t\t\t\t\t\t\tMTYwXHR4NjcyMFxwYXJk\n\t\t\t\t\t\t\taXJuYXR1cmFsXHBhcnRp\n\t\t\t\t\t\t\tZ2h0ZW5mYWN0b3IwCgpc\n\t\t\t\t\t\t\tZjBcZnMyNCBcY2YwIE5h\n\t\t\t\t\t\t\tbWU6IFtrbWZhbV1+R2V0\n\t\t\t\t\t\t\tIEltYWdlIGZvciBNYWNy\n\t\t\t\t\t\t\tbyAoU3ViLU1hY3JvKVwK\n\t\t\t\t\t\t\tVmVyc2lvbjogMS4xXApV\n\t\t\t\t\t\t\tcGRhdGVkOiAyMDE2LzA5\n\t\t\t\t\t\t\tLzE4IDE0OjU1IFBEVFwK\n\t\t\t\t\t\t\tQnk6IERhbiBUaG9tYXNc\n\t\t\t\t\t\t\tClwKTk9URTogVGhpcyBp\n\t\t\t\t\t\t\tcyBhIFN1Yi1NYWNybywg\n\t\t\t\t\t\t\td2hpY2ggZ2V0cyBydW4g\n\t\t\t\t\t\t\tYnkgb3RoZXIgbWFjcm9z\n\t\t\t\t\t\t\tLiBJdCBpcyBub3QgbWVh\n\t\t\t\t\t\t\tbnQgdG8gYmUgcnVuIGJ5\n\t\t\t\t\t\t\tIGl0c2VsZi5cClwKUFVS\n\t\t\t\t\t\t\tUE9TRTpcClwKQ29waWVz\n\t\t\t\t\t\t\tIHRoZSBzZWxlY3RlZCBt\n\t\t\t\t\t\t\tYWNybyBhcyBhbiBpbWFn\n\t\t\t\t\t\t\tZSBhbmQgc2F2ZXMgdGhl\n\t\t\t\t\t\t\tIGlhZ2UgdG8gYSB0ZW1w\n\t\t\t\t\t\t\tIGZpbGUuXApcClZFUlNJ\n\t\t\t\t\t\t\tT04gSElTVE9SWTpcCjEu\n\t\t\t\t\t\t\tMSAtIEFkYXB0aXZlIE9y\n\t\t\t\t\t\t\tZGVyaW5nLCBCZXR0ZXIg\n\t\t\t\t\t\t\taW1hZ2UtaGFuZGxpbmcg\n\t\t\t\t\t\t\tZm9yIFJldGluYSBkaXNw\n\t\t\t\t\t\t\tbGF5cywgVUkgaW1wcm92\n\t\t\t\t\t\t\tZW1lbnRzLlwKMS4wLjEg\n\t\t\t\t\t\t\tLSBXb3JrYXJvdW5kcyBm\n\t\t\t\t\t\t\tb3IgWW9zZW1pdGUgYnVn\n\t\t\t\t\t\t\tcy5cCjEuMCAtIEluaXRp\n\t\t\t\t\t\t\tYWwgdmVyc2lvbi59AQAA\n\t\t\t\t\t\t\tACMAAAABAAAABwAAAFRY\n\t\t\t\t\t\t\tVC5ydGYQAAAAGzeBYbYB\n\t\t\t\t\t\t\tAAAAAAAAAAAAAA==\n\t\t\t\t\t\t\t41E4D515-C065-4C24-9859-EA2479C52CC9\n\t\t\t\t\t\t\t",
			"ActionColor": "Yellow",
			"ActionUID": 3134
		},
		{
			"MacroActionType": "Comment",
			"Title": "License Agreement / Disclaimer",
			"StyledText": "\n\t\t\t\t\t\t\t41E4D515-C065-4C24-9859-EA2479C52CC9\n\t\t\t\t\t\t\tcnRmZAAAAAADAAAAAgAA\n\t\t\t\t\t\t\tAAcAAABUWFQucnRmAQAA\n\t\t\t\t\t\t\tAC4dBAAAKwAAAAEAAAAV\n\t\t\t\t\t\t\tBAAAe1xydGYxXGFuc2lc\n\t\t\t\t\t\t\tYW5zaWNwZzEyNTJcY29j\n\t\t\t\t\t\t\tb2FydGYyNjM2Clxjb2Nv\n\t\t\t\t\t\t\tYXRleHRzY2FsaW5nMFxj\n\t\t\t\t\t\t\tb2NvYXBsYXRmb3JtMHtc\n\t\t\t\t\t\t\tZm9udHRibFxmMFxmc3dp\n\t\t\t\t\t\t\tc3NcZmNoYXJzZXQwIEhl\n\t\t\t\t\t\t\tbHZldGljYTt9CntcY29s\n\t\t\t\t\t\t\tb3J0Ymw7XHJlZDI1NVxn\n\t\t\t\t\t\t\tcmVlbjI1NVxibHVlMjU1\n\t\t\t\t\t\t\tO30Ke1wqXGV4cGFuZGVk\n\t\t\t\t\t\t\tY29sb3J0Ymw7O30KXHBh\n\t\t\t\t\t\t\tcmRcdHg1NjBcdHgxMTIw\n\t\t\t\t\t\t\tXHR4MTY4MFx0eDIyNDBc\n\t\t\t\t\t\t\tdHgyODAwXHR4MzM2MFx0\n\t\t\t\t\t\t\teDM5MjBcdHg0NDgwXHR4\n\t\t\t\t\t\t\tNTA0MFx0eDU2MDBcdHg2\n\t\t\t\t\t\t\tMTYwXHR4NjcyMFxwYXJk\n\t\t\t\t\t\t\taXJuYXR1cmFsXHBhcnRp\n\t\t\t\t\t\t\tZ2h0ZW5mYWN0b3IwCgpc\n\t\t\t\t\t\t\tZjBcZnMyNCBcY2YwIENv\n\t\t\t\t\t\t\tcHlyaWdodCAoYykgMjAx\n\t\t\t\t\t\t\tNiBEYW5pZWwgVGhvbWFz\n\t\t\t\t\t\t\tXApcClBlcm1pc3Npb24g\n\t\t\t\t\t\t\tdG8gdXNlLCBjb3B5LCBt\n\t\t\t\t\t\t\tb2RpZnksIGFuZC9vciBk\n\t\t\t\t\t\t\taXN0cmlidXRlIHRoaXMg\n\t\t\t\t\t\t\tc29mdHdhcmUgZm9yIGFu\n\t\t\t\t\t\t\teSBwdXJwb3NlIHdpdGgg\n\t\t\t\t\t\t\tb3Igd2l0aG91dCBmZWUg\n\t\t\t\t\t\t\taXMgaGVyZWJ5IGdyYW50\n\t\t\t\t\t\t\tZWQsIHByb3ZpZGVkIHRo\n\t\t\t\t\t\t\tYXQgdGhlIGFib3ZlIGNv\n\t\t\t\t\t\t\tcHlyaWdodCBub3RpY2Ug\n\t\t\t\t\t\t\tYW5kIHRoaXMgcGVybWlz\n\t\t\t\t\t\t\tc2lvbiBub3RpY2UgYXBw\n\t\t\t\t\t\t\tZWFyIGluIGFsbCBjb3Bp\n\t\t\t\t\t\t\tZXMuXApcClRIRSBTT0ZU\n\t\t\t\t\t\t\tV0FSRSBJUyBQUk9WSURF\n\t\t\t\t\t\t\tRCAiQVMgSVMiIEFORCBU\n\t\t\t\t\t\t\tSEUgQVVUSE9SIERJU0NM\n\t\t\t\t\t\t\tQUlNUyBBTEwgV0FSUkFO\n\t\t\t\t\t\t\tVElFUyBXSVRIIFJFR0FS\n\t\t\t\t\t\t\tRCBUTyBUSElTIFNPRlRX\n\t\t\t\t\t\t\tQVJFIElOQ0xVRElORyBB\n\t\t\t\t\t\t\tTEwgSU1QTElFRCBXQVJS\n\t\t\t\t\t\t\tQU5USUVTIE9GIE1FUkNI\n\t\t\t\t\t\t\tQU5UQUJJTElUWSBBTkQg\n\t\t\t\t\t\t\tRklUTkVTUy4gSU4gTk8g\n\t\t\t\t\t\t\tRVZFTlQgU0hBTEwgVEhF\n\t\t\t\t\t\t\tIEFVVEhPUiBCRSBMSUFC\n\t\t\t\t\t\t\tTEUgRk9SIEFOWSBTUEVD\n\t\t\t\t\t\t\tSUFMLCBESVJFQ1QsIElO\n\t\t\t\t\t\t\tRElSRUNULCBPUiBDT05T\n\t\t\t\t\t\t\tRVFVRU5USUFMIERBTUFH\n\t\t\t\t\t\t\tRVMgT1IgQU5ZIERBTUFH\n\t\t\t\t\t\t\tRVMgV0hBVFNPRVZFUiBS\n\t\t\t\t\t\t\tRVNVTFRJTkcgRlJPTSBM\n\t\t\t\t\t\t\tT1NTIE9GIFVTRSwgREFU\n\t\t\t\t\t\t\tQSBPUiBQUk9GSVRTLCBX\n\t\t\t\t\t\t\tSEVUSEVSIElOIEFOIEFD\n\t\t\t\t\t\t\tVElPTiBPRiBDT05UUkFD\n\t\t\t\t\t\t\tVCwgTkVHTElHRU5DRSBP\n\t\t\t\t\t\t\tUiBPVEhFUiBUT1JUSU9V\n\t\t\t\t\t\t\tUyBBQ1RJT04sIEFSSVNJ\n\t\t\t\t\t\t\tTkcgT1VUIE9GIE9SIElO\n\t\t\t\t\t\t\tIENPTk5FQ1RJT04gV0lU\n\t\t\t\t\t\t\tSCBUSEUgVVNFIE9SIFBF\n\t\t\t\t\t\t\tUkZPUk1BTkNFIE9GIFRI\n\t\t\t\t\t\t\tSVMgU09GVFdBUkUufQEA\n\t\t\t\t\t\t\tAAAjAAAAAQAAAAcAAABU\n\t\t\t\t\t\t\tWFQucnRmEAAAABs3gWG2\n\t\t\t\t\t\t\tAQAAAAAAAAAAAAA=\n\t\t\t\t\t\t\t41E4D515-C065-4C24-9859-EA2479C52CC9\n\t\t\t\t\t\t\t",
			"ActionColor": "Yellow",
			"ActionUID": 3135
		},
		{
			"MacroActionType": "IfThenElse",
			"ActionName": "Assert parameter was supplied",
			"ActionUID": 3136,
			"IsDisclosed": false,
			"ActionColor": "Magenta",
			"ElseActions": [],
			"TimeOutAbortsMacro": true,
			"Conditions": {
				"ConditionListMatch": "All",
				"ConditionList": [
					{
						"ConditionType": "Text",
						"TextValue": "",
						"Text": "%TriggerValue%",
						"TextConditionType": "IsEmpty"
					}
				]
			},
			"ElseActionListDisclosed": false,
			"ThenActions": [
				{
					"MacroActionType": "PromptForUserInput",
					"Title": "%ExecutingThisMacro%",
					"ActionName": "Notify the error",
					"Prompt": "Parameter required.",
					"ActionUID": 3137,
					"IsDisclosed": false,
					"TimeOutAbortsMacro": true,
					"Buttons": [
						{
							"Button": "OK",
							"Cancel": true
						}
					],
					"Variables": []
				},
				{
					"MacroActionType": "Cancel",
					"IsDisclosed": false,
					"Action": "CancelThisMacro",
					"ActionUID": 3138
				}
			]
		},
		{
			"MacroActionType": "Group",
			"ActionName": "Copy the selected Macro as Image",
			"ActionUID": 3139,
			"IsDisclosed": false,
			"Actions": [
				{
					"MacroActionType": "SetVariableToCalculation",
					"IsDisclosed": false,
					"UseFormat": false,
					"Variable": "kmfamOldClipboardSeed",
					"Text": "CLIPBOARDSEED()",
					"ActionUID": 3140
				},
				{
					"MacroActionType": "SelectMenuItem",
					"IsDisclosed": false,
					"TargetApplication": {
						"BundleIdentifier": "com.stairways.keyboardmaestro.editor",
						"Name": "Keyboard Maestro",
						"NewFile": "/Applications/Keyboard Maestro.app"
					},
					"TargetingType": "Specific",
					"Menu": [
						"Edit",
						"Copy as",
						"Copy as Image"
					],
					"ActionUID": 3141
				},
				{
					"MacroActionType": "PauseUntil",
					"IsDisclosed": false,
					"Conditions": {
						"ConditionListMatch": "All",
						"ConditionList": [
							{
								"ConditionType": "Calculation",
								"Text": "CLIPBOARDSEED() <> kmfamOldClipboardSeed"
							}
						]
					},
					"TimeOutAbortsMacro": true,
					"ActionUID": 3142
				}
			],
			"TimeOutAbortsMacro": true,
			"ActionColor": "Aqua"
		},
		{
			"MacroActionType": "Group",
			"ActionName": "Adjust the image for Retina displays, if needed",
			"ActionUID": 3143,
			"IsDisclosed": false,
			"Actions": [
				{
					"MacroActionType": "GetImageSize",
					"IsDisclosed": false,
					"Attribute": "DPI",
					"Variable": "kmfamImageDPI",
					"ActionUID": 3144
				},
				{
					"MacroActionType": "IfThenElse",
					"ActionUID": 3145,
					"IsDisclosed": false,
					"ElseActions": [],
					"TimeOutAbortsMacro": true,
					"Conditions": {
						"ConditionListMatch": "All",
						"ConditionList": [
							{
								"ConditionType": "Calculation",
								"Text": "kmfamImageDPI > 72"
							}
						]
					},
					"ElseActionListDisclosed": false,
					"ThenActions": [
						{
							"MacroActionType": "GetImageSize",
							"ActionName": "Get Image Pixel Size of Clipboard into 'kmfamImageSize'",
							"Attribute": "PointSize",
							"IsDisclosed": false,
							"Variable": "kmfamImageSize",
							"ActionUID": 3146
						},
						{
							"MacroActionType": "ResizeImage",
							"Height": "kmfamImageSize.y",
							"ResizeAction": "ScaleTo",
							"IsDisclosed": false,
							"Top": "100",
							"ActionUID": 3147,
							"Left": "100",
							"Width": "kmfamImageSize.x"
						}
					]
				}
			],
			"TimeOutAbortsMacro": true,
			"ActionColor": "Green"
		},
		{
			"MacroActionType": "Group",
			"ActionName": "Crop the image if needed",
			"ActionUID": 3148,
			"IsDisclosed": false,
			"Actions": [
				{
					"MacroActionType": "GetImageSize",
					"ActionName": "Get Image Pixel Size of Clipboard into 'kmfamImageSize'",
					"Attribute": "PixelSize",
					"IsDisclosed": false,
					"Variable": "kmfamImageSize",
					"ActionUID": 3149
				},
				{
					"MacroActionType": "IfThenElse",
					"ActionName": "Crop image based on DPI",
					"ActionUID": 3150,
					"IsDisclosed": false,
					"ElseActions": [
						{
							"MacroActionType": "ResizeImage",
							"ActionName": "Crop Image for normal displays, so we don't end up shrinking too small",
							"Height": "MIN(kmfamImageSize.height, 385)",
							"ResizeAction": "Crop",
							"IsDisclosed": false,
							"ActionUID": 3152,
							"Top": "0",
							"Left": "0",
							"Width": "kmfamImageSize.width"
						}
					],
					"TimeOutAbortsMacro": true,
					"Conditions": {
						"ConditionListMatch": "All",
						"ConditionList": [
							{
								"ConditionType": "Calculation",
								"Text": "kmfamImageDPI > 72"
							}
						]
					},
					"ThenActions": [
						{
							"MacroActionType": "ResizeImage",
							"ActionName": "Crop Image for Retina displays, so we don't end up shrinking too small",
							"Height": "MIN(kmfamImageSize.height, 585)",
							"ResizeAction": "Crop",
							"IsDisclosed": false,
							"ActionUID": 3151,
							"Top": "0",
							"Left": "0",
							"Width": "kmfamImageSize.width"
						}
					]
				}
			],
			"TimeOutAbortsMacro": true,
			"ActionColor": "Aqua"
		},
		{
			"MacroActionType": "WriteFile",
			"ActionName": "Write the image from the Clipboard to the file specified in TriggerValue",
			"Append": false,
			"Format": "JPEG",
			"ActionColor": "Green",
			"Destination": "%TriggerValue%",
			"ActionUID": 3153,
			"Encoding": "UTF8",
			"Format2": "JPEG",
			"IsDisclosed": false,
			"Source": "Clipboard"
		}
	]
}