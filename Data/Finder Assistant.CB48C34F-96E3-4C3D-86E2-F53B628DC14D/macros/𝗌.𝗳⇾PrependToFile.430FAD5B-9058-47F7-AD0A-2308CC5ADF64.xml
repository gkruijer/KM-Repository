<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<array>
	<dict>
		<key>Actions</key>
		<array>
			<dict>
				<key>Action</key>
				<string>StandardizePath</string>
				<key>ActionUID</key>
				<integer>12517322</integer>
				<key>MacroActionType</key>
				<string>Filter</string>
				<key>Source</key>
				<string>Variable</string>
				<key>Variable</key>
				<string>local__Path</string>
			</dict>
			<dict>
				<key>ActionColor</key>
				<string>Yellow</string>
				<key>ActionUID</key>
				<integer>12517323</integer>
				<key>Conditions</key>
				<dict>
					<key>ConditionList</key>
					<array>
						<dict>
							<key>ConditionType</key>
							<string>Path</string>
							<key>Path</key>
							<string>%Variable%local__Path%</string>
							<key>PathConditionType</key>
							<string>FileExists</string>
						</dict>
					</array>
					<key>ConditionListMatch</key>
					<string>All</string>
				</dict>
				<key>ElseActions</key>
				<array>
					<dict>
						<key>ActionName</key>
						<string>Intentionally Blank</string>
						<key>ActionUID</key>
						<integer>12517333</integer>
						<key>IsDisclosed</key>
						<false/>
						<key>MacroActionType</key>
						<string>Comment</string>
						<key>StyledText</key>
						<data>
								e1xydGYxXGFu
								c2lcYW5zaWNw
								ZzEyNTJcY29j
								b2FydGYyNzU5
								Clxjb2NvYXRl
								eHRzY2FsaW5n
								MFxjb2NvYXBs
								YXRmb3JtMHtc
								Zm9udHRibH0K
								e1xjb2xvcnRi
								bDtccmVkMjU1
								XGdyZWVuMjU1
								XGJsdWUyNTU7
								fQp7XCpcZXhw
								YW5kZWRjb2xv
								cnRibDs7fQp9
									</data>
						<key>Title</key>
						<string></string>
					</dict>
				</array>
				<key>MacroActionType</key>
				<string>IfThenElse</string>
				<key>ThenActions</key>
				<array>
					<dict>
						<key>ActionColor</key>
						<string>Magenta</string>
						<key>ActionName</key>
						<string>Get the current file contents</string>
						<key>ActionUID</key>
						<integer>12517324</integer>
						<key>IsDisclosed</key>
						<false/>
						<key>MacroActionType</key>
						<string>Comment</string>
						<key>StyledText</key>
						<data>
								e1xydGYxXGFu
								c2lcYW5zaWNw
								ZzEyNTJcY29j
								b2FydGYyNzU5
								Clxjb2NvYXRl
								eHRzY2FsaW5n
								MFxjb2NvYXBs
								YXRmb3JtMHtc
								Zm9udHRibH0K
								e1xjb2xvcnRi
								bDtccmVkMjU1
								XGdyZWVuMjU1
								XGJsdWUyNTU7
								fQp7XCpcZXhw
								YW5kZWRjb2xv
								cnRibDs7fQp9
									</data>
						<key>Title</key>
						<string></string>
					</dict>
					<dict>
						<key>ActionUID</key>
						<integer>12517325</integer>
						<key>Destination</key>
						<string>Variable</string>
						<key>MacroActionType</key>
						<string>ReadFile</string>
						<key>NotifyOnFailure</key>
						<false/>
						<key>Source</key>
						<string>%Variable%local__Path%</string>
						<key>Variable</key>
						<string>local_Old</string>
					</dict>
					<dict>
						<key>ActionColor</key>
						<string>Magenta</string>
						<key>ActionName</key>
						<string>Trash the existing file</string>
						<key>ActionUID</key>
						<integer>12517326</integer>
						<key>IsDisclosed</key>
						<false/>
						<key>MacroActionType</key>
						<string>Comment</string>
						<key>StyledText</key>
						<data>
								e1xydGYxXGFu
								c2lcYW5zaWNw
								ZzEyNTJcY29j
								b2FydGYyNzU5
								Clxjb2NvYXRl
								eHRzY2FsaW5n
								MFxjb2NvYXBs
								YXRmb3JtMHtc
								Zm9udHRibH0K
								e1xjb2xvcnRi
								bDtccmVkMjU1
								XGdyZWVuMjU1
								XGJsdWUyNTU7
								fQp7XCpcZXhw
								YW5kZWRjb2xv
								cnRibDs7fQp9
									</data>
						<key>Title</key>
						<string></string>
					</dict>
					<dict>
						<key>ActionUID</key>
						<integer>12517327</integer>
						<key>Destination</key>
						<string></string>
						<key>MacroActionType</key>
						<string>File</string>
						<key>NotifyOnFailure</key>
						<false/>
						<key>Operation</key>
						<string>Trash</string>
						<key>Source</key>
						<string>%Variable%local__Path%</string>
					</dict>
					<dict>
						<key>ActionUID</key>
						<integer>12517328</integer>
						<key>Delete</key>
						<false/>
						<key>Destination</key>
						<string>Variable</string>
						<key>DestinationVariable</key>
						<string>local_ActionResult</string>
						<key>First</key>
						<string>1</string>
						<key>IsDisclosed</key>
						<false/>
						<key>MacroActionType</key>
						<string>Substring</string>
						<key>Second</key>
						<string>500</string>
						<key>Source</key>
						<string>Text</string>
						<key>StringRangeType</key>
						<string>Range</string>
						<key>Text</key>
						<string>%ActionResult%</string>
					</dict>
					<dict>
						<key>ActionColor</key>
						<string>Green</string>
						<key>ActionUID</key>
						<integer>12517329</integer>
						<key>Conditions</key>
						<dict>
							<key>ConditionList</key>
							<array>
								<dict>
									<key>ConditionType</key>
									<string>Variable</string>
									<key>Variable</key>
									<string>local_ActionResult</string>
									<key>VariableConditionType</key>
									<string>IsNot</string>
									<key>VariableValue</key>
									<string>OK</string>
								</dict>
							</array>
							<key>ConditionListMatch</key>
							<string>All</string>
						</dict>
						<key>ElseActions</key>
						<array>
							<dict>
								<key>ActionName</key>
								<string>Intentionally Blank</string>
								<key>ActionUID</key>
								<integer>12517332</integer>
								<key>IsDisclosed</key>
								<false/>
								<key>MacroActionType</key>
								<string>Comment</string>
								<key>StyledText</key>
								<data>
								e1xydGYxXGFu
								c2lcYW5zaWNw
								ZzEyNTJcY29j
								b2FydGYyNzU5
								Clxjb2NvYXRl
								eHRzY2FsaW5n
								MFxjb2NvYXBs
								YXRmb3JtMHtc
								Zm9udHRibH0K
								e1xjb2xvcnRi
								bDtccmVkMjU1
								XGdyZWVuMjU1
								XGJsdWUyNTU7
								fQp7XCpcZXhw
								YW5kZWRjb2xv
								cnRibDs7fQp9
											</data>
								<key>Title</key>
								<string></string>
							</dict>
						</array>
						<key>MacroActionType</key>
						<string>IfThenElse</string>
						<key>ThenActions</key>
						<array>
							<dict>
								<key>ActionColor</key>
								<string>Teal</string>
								<key>ActionUID</key>
								<integer>12517330</integer>
								<key>Buttons</key>
								<array>
									<dict>
										<key>Button</key>
										<string>OK</string>
										<key>Cancel</key>
										<false/>
									</dict>
									<dict>
										<key>Button</key>
										<string>Cancel/.</string>
										<key>Cancel</key>
										<true/>
									</dict>
								</array>
								<key>MacroActionType</key>
								<string>PromptForUserInput</string>
								<key>Prompt</key>
								<string>Unable to trash: %Variable%local__Path%

%Variable%local_ActionResult%</string>
								<key>TimeOutAbortsMacro</key>
								<true/>
								<key>Title</key>
								<string>%ExecutingMacro% :: %ExecutingThisMacro%</string>
								<key>Variables</key>
								<array/>
							</dict>
							<dict>
								<key>ActionUID</key>
								<integer>12517331</integer>
								<key>IsDisclosed</key>
								<false/>
								<key>MacroActionType</key>
								<string>Return</string>
								<key>Text</key>
								<string>1</string>
							</dict>
						</array>
						<key>TimeOutAbortsMacro</key>
						<true/>
					</dict>
				</array>
				<key>TimeOutAbortsMacro</key>
				<true/>
			</dict>
			<dict>
				<key>ActionColor</key>
				<string>Magenta</string>
				<key>ActionName</key>
				<string>Create the revised file contents</string>
				<key>ActionUID</key>
				<integer>12517334</integer>
				<key>IsDisclosed</key>
				<false/>
				<key>MacroActionType</key>
				<string>Comment</string>
				<key>StyledText</key>
				<data>
							e1xydGYxXGFuc2lcYW5z
							aWNwZzEyNTJcY29jb2Fy
							dGYyNzU5Clxjb2NvYXRl
							eHRzY2FsaW5nMFxjb2Nv
							YXBsYXRmb3JtMHtcZm9u
							dHRibH0Ke1xjb2xvcnRi
							bDtccmVkMjU1XGdyZWVu
							MjU1XGJsdWUyNTU7fQp7
							XCpcZXhwYW5kZWRjb2xv
							cnRibDs7fQp9
							</data>
				<key>Title</key>
				<string></string>
			</dict>
			<dict>
				<key>ActionColor</key>
				<string>Magenta</string>
				<key>ActionName</key>
				<string>Escape special characters since HeaderBottomLine will be used in GREP</string>
				<key>ActionUID</key>
				<integer>12517335</integer>
				<key>IsDisclosed</key>
				<false/>
				<key>MacroActionType</key>
				<string>Comment</string>
				<key>StyledText</key>
				<data>
							e1xydGYxXGFuc2lcYW5z
							aWNwZzEyNTJcY29jb2Fy
							dGYyNzU5Clxjb2NvYXRl
							eHRzY2FsaW5nMFxjb2Nv
							YXBsYXRmb3JtMHtcZm9u
							dHRibH0Ke1xjb2xvcnRi
							bDtccmVkMjU1XGdyZWVu
							MjU1XGJsdWUyNTU7fQp7
							XCpcZXhwYW5kZWRjb2xv
							cnRibDs7fQp9
							</data>
				<key>Title</key>
				<string></string>
			</dict>
			<dict>
				<key>Action</key>
				<string>IgnoreCaseRegEx</string>
				<key>ActionUID</key>
				<integer>12517336</integer>
				<key>MacroActionType</key>
				<string>SearchReplace</string>
				<key>Replace</key>
				<string>\\$1</string>
				<key>Search</key>
				<string>([.*+?^=!:${}()|\[\]\/\\])</string>
				<key>Source</key>
				<string>Variable</string>
				<key>Variable</key>
				<string>local__HeaderBottomLine</string>
				<key>Which</key>
				<string>All</string>
			</dict>
			<dict>
				<key>ActionUID</key>
				<integer>12517337</integer>
				<key>DisplayKind</key>
				<string>Variable</string>
				<key>HonourFailureSettings</key>
				<true/>
				<key>IncludeStdErr</key>
				<false/>
				<key>IncludedVariables</key>
				<array>
					<string>9999</string>
				</array>
				<key>MacroActionType</key>
				<string>ExecuteShellScript</string>
				<key>NotifyOnFailure</key>
				<false/>
				<key>Path</key>
				<string></string>
				<key>Source</key>
				<string>Nothing</string>
				<key>StopOnFailure</key>
				<false/>
				<key>Text</key>
				<string>#!/bin/bash

# Define the variables
OLD="$KMVAR_local_Old"
TEXT="$KMVAR_local__Text"
HEADER_BOTTOM="$KMVAR_local__HeaderBottomLine"

# Check if $OLD contains a line that matches $HEADER_BOTTOM (case-insensitive)
if ! grep -q -i "$HEADER_BOTTOM" &lt;&lt;&lt; "$OLD"; then

  # If not, output $TEXT followed by $OLD
  echo "$TEXT"
  echo -n "$OLD"

else

  # If yes, output all lines in $OLD above the found $HEADER_BOTTOM,
  # then $HEADER_BOTTOM, then $TEXT, then all lines in $OLD below the found $HEADER_BOTTOM

  # Get the line number of $HEADER_BOTTOM in $OLD
  LINE_NUMBER=$(grep -ni -m 1 "$HEADER_BOTTOM" &lt;&lt;&lt; "$OLD" | cut -d ':' -f 1)

  # Split $OLD into two parts, before and after the found $HEADER_BOTTOM
  OLD_TOP=$(head -n $LINE_NUMBER &lt;&lt;&lt; "$OLD")
  OLD_BOTTOM=$(tail -n +$(($LINE_NUMBER + 1)) &lt;&lt;&lt; "$OLD")

  # Output the parts in the correct order
  echo "$OLD_TOP"
  echo "$TEXT"
  echo -n "$OLD_BOTTOM"

fi</string>
				<key>TimeOutAbortsMacro</key>
				<true/>
				<key>TrimResults</key>
				<true/>
				<key>TrimResultsNew</key>
				<true/>
				<key>UseText</key>
				<true/>
				<key>Variable</key>
				<string>local_New</string>
			</dict>
			<dict>
				<key>ActionUID</key>
				<integer>12517338</integer>
				<key>Delete</key>
				<false/>
				<key>Destination</key>
				<string>Variable</string>
				<key>DestinationVariable</key>
				<string>local_ActionResult</string>
				<key>First</key>
				<string>1</string>
				<key>IsDisclosed</key>
				<false/>
				<key>MacroActionType</key>
				<string>Substring</string>
				<key>Second</key>
				<string>500</string>
				<key>Source</key>
				<string>Text</string>
				<key>StringRangeType</key>
				<string>Range</string>
				<key>Text</key>
				<string>%ActionResult%</string>
			</dict>
			<dict>
				<key>ActionColor</key>
				<string>Green</string>
				<key>ActionUID</key>
				<integer>12517339</integer>
				<key>Conditions</key>
				<dict>
					<key>ConditionList</key>
					<array>
						<dict>
							<key>ConditionType</key>
							<string>Variable</string>
							<key>Variable</key>
							<string>local_ActionResult</string>
							<key>VariableConditionType</key>
							<string>IsNot</string>
							<key>VariableValue</key>
							<string>OK</string>
						</dict>
					</array>
					<key>ConditionListMatch</key>
					<string>All</string>
				</dict>
				<key>ElseActions</key>
				<array>
					<dict>
						<key>ActionName</key>
						<string>Intentionally Blank</string>
						<key>ActionUID</key>
						<integer>12517342</integer>
						<key>IsDisclosed</key>
						<false/>
						<key>MacroActionType</key>
						<string>Comment</string>
						<key>StyledText</key>
						<data>
								e1xydGYxXGFu
								c2lcYW5zaWNw
								ZzEyNTJcY29j
								b2FydGYyNzU5
								Clxjb2NvYXRl
								eHRzY2FsaW5n
								MFxjb2NvYXBs
								YXRmb3JtMHtc
								Zm9udHRibH0K
								e1xjb2xvcnRi
								bDtccmVkMjU1
								XGdyZWVuMjU1
								XGJsdWUyNTU7
								fQp7XCpcZXhw
								YW5kZWRjb2xv
								cnRibDs7fQp9
									</data>
						<key>Title</key>
						<string></string>
					</dict>
				</array>
				<key>MacroActionType</key>
				<string>IfThenElse</string>
				<key>ThenActions</key>
				<array>
					<dict>
						<key>ActionColor</key>
						<string>Teal</string>
						<key>ActionUID</key>
						<integer>12517340</integer>
						<key>Buttons</key>
						<array>
							<dict>
								<key>Button</key>
								<string>OK</string>
								<key>Cancel</key>
								<false/>
							</dict>
							<dict>
								<key>Button</key>
								<string>Cancel/.</string>
								<key>Cancel</key>
								<true/>
							</dict>
						</array>
						<key>MacroActionType</key>
						<string>PromptForUserInput</string>
						<key>Prompt</key>
						<string>Unable to append text to file contents.

%Variable%local_ActionResult%</string>
						<key>TimeOutAbortsMacro</key>
						<true/>
						<key>Title</key>
						<string>%ExecutingMacro% :: %ExecutingThisMacro%</string>
						<key>Variables</key>
						<array/>
					</dict>
					<dict>
						<key>ActionUID</key>
						<integer>12517341</integer>
						<key>IsDisclosed</key>
						<false/>
						<key>MacroActionType</key>
						<string>Return</string>
						<key>Text</key>
						<string>1</string>
					</dict>
				</array>
				<key>TimeOutAbortsMacro</key>
				<true/>
			</dict>
			<dict>
				<key>ActionColor</key>
				<string>Magenta</string>
				<key>ActionName</key>
				<string>Replace the original file with the modified content</string>
				<key>ActionUID</key>
				<integer>12517343</integer>
				<key>IsDisclosed</key>
				<false/>
				<key>MacroActionType</key>
				<string>Comment</string>
				<key>StyledText</key>
				<data>
							e1xydGYxXGFuc2lcYW5z
							aWNwZzEyNTJcY29jb2Fy
							dGYyNzU5Clxjb2NvYXRl
							eHRzY2FsaW5nMFxjb2Nv
							YXBsYXRmb3JtMHtcZm9u
							dHRibH0Ke1xjb2xvcnRi
							bDtccmVkMjU1XGdyZWVu
							MjU1XGJsdWUyNTU7fQp7
							XCpcZXhwYW5kZWRjb2xv
							cnRibDs7fQp9
							</data>
				<key>Title</key>
				<string></string>
			</dict>
			<dict>
				<key>ActionUID</key>
				<integer>12517344</integer>
				<key>Append</key>
				<false/>
				<key>Destination</key>
				<string>%Variable%local__Path%</string>
				<key>Encoding</key>
				<string>UTF8</string>
				<key>Format</key>
				<string>PlainText</string>
				<key>Format2</key>
				<string>PlainText</string>
				<key>MacroActionType</key>
				<string>WriteFile</string>
				<key>NotifyOnFailure</key>
				<false/>
				<key>Source</key>
				<string>Variable</string>
				<key>Variable</key>
				<string>local_New</string>
			</dict>
			<dict>
				<key>ActionUID</key>
				<integer>12517345</integer>
				<key>Delete</key>
				<false/>
				<key>Destination</key>
				<string>Variable</string>
				<key>DestinationVariable</key>
				<string>local_ActionResult</string>
				<key>First</key>
				<string>1</string>
				<key>IsDisclosed</key>
				<false/>
				<key>MacroActionType</key>
				<string>Substring</string>
				<key>Second</key>
				<string>500</string>
				<key>Source</key>
				<string>Text</string>
				<key>StringRangeType</key>
				<string>Range</string>
				<key>Text</key>
				<string>%ActionResult%</string>
			</dict>
			<dict>
				<key>ActionColor</key>
				<string>Green</string>
				<key>ActionUID</key>
				<integer>12517346</integer>
				<key>Conditions</key>
				<dict>
					<key>ConditionList</key>
					<array>
						<dict>
							<key>ConditionType</key>
							<string>Variable</string>
							<key>Variable</key>
							<string>local_ActionResult</string>
							<key>VariableConditionType</key>
							<string>IsNot</string>
							<key>VariableValue</key>
							<string>OK</string>
						</dict>
					</array>
					<key>ConditionListMatch</key>
					<string>All</string>
				</dict>
				<key>ElseActions</key>
				<array>
					<dict>
						<key>ActionUID</key>
						<integer>12517349</integer>
						<key>IsDisclosed</key>
						<false/>
						<key>MacroActionType</key>
						<string>Return</string>
						<key>Text</key>
						<string>0</string>
					</dict>
				</array>
				<key>MacroActionType</key>
				<string>IfThenElse</string>
				<key>ThenActions</key>
				<array>
					<dict>
						<key>ActionColor</key>
						<string>Teal</string>
						<key>ActionUID</key>
						<integer>12517347</integer>
						<key>Buttons</key>
						<array>
							<dict>
								<key>Button</key>
								<string>OK</string>
								<key>Cancel</key>
								<false/>
							</dict>
							<dict>
								<key>Button</key>
								<string>Cancel/.</string>
								<key>Cancel</key>
								<true/>
							</dict>
						</array>
						<key>MacroActionType</key>
						<string>PromptForUserInput</string>
						<key>Prompt</key>
						<string>Unable to write updated contents to: %Variable% local__Path%

%Variable%local_ActionResult%</string>
						<key>TimeOutAbortsMacro</key>
						<true/>
						<key>Title</key>
						<string>%ExecutingMacro% :: %ExecutingThisMacro%</string>
						<key>Variables</key>
						<array/>
					</dict>
					<dict>
						<key>ActionUID</key>
						<integer>12517348</integer>
						<key>IsDisclosed</key>
						<false/>
						<key>MacroActionType</key>
						<string>Return</string>
						<key>Text</key>
						<string>1</string>
					</dict>
				</array>
				<key>TimeOutAbortsMacro</key>
				<true/>
			</dict>
		</array>
		<key>CreationDate</key>
		<real>692889738.67154598</real>
		<key>CustomIconData</key>
		<string>KMEP-GenericApplication-/System/Library/CoreServices/Finder.app</string>
		<key>IsActive</key>
		<false/>
		<key>ModificationDate</key>
		<real>733886289.08148897</real>
		<key>Name</key>
		<string>𝗌.𝗳⇾PrependToFile</string>
		<key>Triggers</key>
		<array>
			<dict>
				<key>MacroTriggerType</key>
				<string>Subroutine</string>
				<key>Parameters</key>
				<array>
					<string>local__Path</string>
					<string>local__Text</string>
					<string>local__HeaderBottomLine</string>
				</array>
				<key>ReturnsValue</key>
				<true/>
			</dict>
		</array>
		<key>UID</key>
		<string>430FAD5B-9058-47F7-AD0A-2308CC5ADF64</string>
	</dict>
</array>
</plist>
